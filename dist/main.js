(()=>{var e={687:()=>{const e=(e,t,n=50)=>new Promise((c=>{let o=0;e.textContent="";const i=setInterval((()=>{o<t.length?(e.textContent+=t.charAt(o),o++):(clearInterval(i),c())}),n)}));document.addEventListener("DOMContentLoaded",(async()=>{const t=document.querySelector(".terminal-line:first-child .terminal-text"),n=document.querySelector(".terminal-line:last-child .terminal-text"),c=document.querySelector(".terminal-cursor");t&&n&&(t.textContent="",n.textContent="",c&&(c.style.display="none"),await e(t,"ssh kim@portfolio.dev",25),await new Promise((e=>setTimeout(e,100))),await e(n,"loading awesomeness...",25),c&&(c.style.display="inline"))}));const t=Date.now();window.onload=function(){const e=Date.now()-t,n=Math.max(0,2e3-e);setTimeout((()=>{const e=document.querySelector(".loader");e.style.opacity="0",e.style.transition="opacity 0.3s ease-out",setTimeout((()=>{e.style.display="none",document.body.classList.add("loaded")}),300)}),n)}},806:()=>{const e=document.getElementById("slides-container"),t=document.querySelector(".slide"),n=document.querySelectorAll(".slide"),c=document.querySelector("#nav-link-about"),o=document.querySelector("#nav-link-resume"),i=document.querySelector("#nav-link-certificates"),r=document.querySelector(".profile-picture-mobile"),s=()=>window.innerWidth<=500;let a=!1;const l=e=>{s()&&r&&(e&&a?r.classList.add("visible"):r.classList.remove("visible"))};let d=0;const m=e=>{d=e,n.forEach(((t,n)=>{n===e?t.classList.add("active-slide"):t.classList.remove("active-slide")})),l(0===e)};s()&&m(0);const u=document.querySelector(".content-container");u&&s()&&u.addEventListener("animationend",(()=>{a=!0,0===d&&l(!0)}),{once:!0}),window.addEventListener("resize",(()=>{s()&&(document.querySelector(".slide.active-slide")||m(0))})),c.addEventListener("click",(()=>{s()?(m(0),changeActiveLink(c)):e.scrollLeft=0})),o.addEventListener("click",(()=>{s()?(m(1),changeActiveLink(o)):e.scrollLeft=t.clientWidth})),i.addEventListener("click",(()=>{s()?(m(2),changeActiveLink(i)):e.scrollLeft=2*t.clientWidth})),e.addEventListener("scroll",(()=>{s()||(0===e.scrollLeft?changeActiveLink(c):e.scrollLeft>=2*t.clientWidth?changeActiveLink(i):changeActiveLink(o))})),e.addEventListener("swiped-right",(()=>{0===e.scrollLeft?changeActiveLink(c):e.scrollLeft>=2*t.clientWidth?changeActiveLink(i):changeActiveLink(o)})),changeActiveLink=e=>{document.querySelectorAll(".nav-item").forEach((e=>{e.classList.remove("active")})),e.classList.add("active")},setTimeout((()=>{document.querySelector(".nav-item.active")||changeActiveLink(c)}),4e3)},465:()=>{const e=async(e,t,n=100)=>{for(let c=0;c<t.length;c++)e.textContent+=t.charAt(c),await new Promise((e=>setTimeout(e,n)))},t=async(e,t=50)=>{for(;e.textContent.length>0;)e.textContent=e.textContent.slice(0,-1),await new Promise((e=>setTimeout(e,t)))};document.addEventListener("DOMContentLoaded",(()=>{(async()=>{const n=document.getElementById("typing-logo");if(n)for(;;)await e(n,"KIM EDRIAN BINASOY"),await new Promise((e=>setTimeout(e,2e3))),await e(n," (relearn.ing)"),await new Promise((e=>setTimeout(e,5e3))),await t(n),await new Promise((e=>setTimeout(e,500)))})()}))},205:()=>{const e=document.querySelectorAll(".gallery"),t=document.querySelector(".zoom"),n=document.querySelector(".zoom img"),c=document.querySelector(".zoom .zoom-prev"),o=document.querySelector(".zoom .zoom-next"),i=document.querySelector(".zoom .zoom-close");var r;e.forEach((e=>{e.addEventListener("click",(e=>{"IMG"===e.target.tagName&&(e.target.classList.contains("projects"),r=e.target.closest(".gallery").querySelectorAll("img.hidden"),n.src=e.target.parentElement.querySelector("img.hidden").src,n.style.top=e.target.y+"px",n.style.left=e.target.x+"px",n.style.width=e.target.clientWidth+"px",n.style.height=e.target.clientHeight+"px",t.classList.add("active"),setTimeout((()=>{t.classList.add("zoom-in")}),200))}))})),i.addEventListener("click",(()=>{t.classList.remove("active"),t.classList.remove("zoom-in")})),o.addEventListener("click",(()=>{next()})),c.addEventListener("click",(()=>{prev()})),next=function(){let e=n.src;r.forEach(((t,c)=>{t.src===n.src&&(e=r[c+1]?r[c+1].src:r[0].src)})),n.src=e},prev=function(){let e=n.src;r.forEach(((t,c)=>{t.src===n.src&&(e=r[c-1]?r[c-1].src:r[r.length-1].src)})),n.src=e};let s=0,a=0;checkDirection=function(){a<s&&next(),a>s&&prev()},t.addEventListener("touchstart",(e=>{s=e.changedTouches[0].screenX})),t.addEventListener("touchend",(e=>{a=e.changedTouches[0].screenX,checkDirection()}))}},t={};function n(c){var o=t[c];if(void 0!==o)return o.exports;var i=t[c]={exports:{}};return e[c](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var c in t)n.o(t,c)&&!n.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(806),n(205),n(687),n(465)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELE9BQ2YsQ0NyQkFKLEVBQW9CTyxFQUFLRixJQUN4QixJQUFJRyxFQUFTSCxHQUFVQSxFQUFPSSxXQUM3QixJQUFPSixFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQUwsRUFBb0JVLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLENBQU0sRUNMZFIsRUFBb0JVLEVBQUksQ0FBQ04sRUFBU1EsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYWixFQUFvQmMsRUFBRUYsRUFBWUMsS0FBU2IsRUFBb0JjLEVBQUVWLEVBQVNTLElBQzVFRSxPQUFPQyxlQUFlWixFQUFTUyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORGIsRUFBb0JjLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnRmb2xpby8uL3NyYy9zY3JpcHQvY29tcHMvbG9hZGVyLmpzIiwid2VicGFjazovL3BvcnRmb2xpby8uL3NyYy9zY3JpcHQvY29tcHMvc2xpZGVyLmpzIiwid2VicGFjazovL3BvcnRmb2xpby8uL3NyYy9zY3JpcHQvY29tcHMvdHlwaW5nLmpzIiwid2VicGFjazovL3BvcnRmb2xpby8uL3NyYy9zY3JpcHQvY29tcHMvem9vbS5qcyIsIndlYnBhY2s6Ly9wb3J0Zm9saW8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcG9ydGZvbGlvL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3BvcnRmb2xpby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcG9ydGZvbGlvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGVybWluYWwgdHlwaW5nIGFuaW1hdGlvbiBmb3IgbG9hZGVyXG5jb25zdCBUT1RBTF9MT0FERVJfVElNRSA9IDIwMDA7IC8vIDIgc2Vjb25kcyB0b3RhbFxuXG5jb25zdCB0eXBlVGV4dCA9IChlbGVtZW50LCB0ZXh0LCBkZWxheSA9IDUwKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoaSA8IHRleHQubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgIGkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSwgZGVsYXkpO1xuICB9KTtcbn07XG5cbmNvbnN0IHJ1bkxvYWRlckFuaW1hdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgbGluZTFUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlcm1pbmFsLWxpbmU6Zmlyc3QtY2hpbGQgLnRlcm1pbmFsLXRleHQnKTtcbiAgY29uc3QgbGluZTJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlcm1pbmFsLWxpbmU6bGFzdC1jaGlsZCAudGVybWluYWwtdGV4dCcpO1xuICBjb25zdCBjdXJzb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVybWluYWwtY3Vyc29yJyk7XG4gIFxuICBpZiAoIWxpbmUxVGV4dCB8fCAhbGluZTJUZXh0KSByZXR1cm47XG4gIFxuICAvLyBDbGVhciBpbml0aWFsIHRleHRcbiAgbGluZTFUZXh0LnRleHRDb250ZW50ID0gJyc7XG4gIGxpbmUyVGV4dC50ZXh0Q29udGVudCA9ICcnO1xuICBpZiAoY3Vyc29yKSBjdXJzb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgXG4gIC8vIFR5cGUgZmlyc3QgbGluZSAoMjVtcyBwZXIgY2hhcilcbiAgYXdhaXQgdHlwZVRleHQobGluZTFUZXh0LCAnc3NoIGtpbUBwb3J0Zm9saW8uZGV2JywgMjUpO1xuICBcbiAgLy8gU21hbGwgcGF1c2UgYmV0d2VlbiBsaW5lc1xuICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTAwKSk7XG4gIFxuICAvLyBUeXBlIHNlY29uZCBsaW5lICgyNW1zIHBlciBjaGFyKVxuICBhd2FpdCB0eXBlVGV4dChsaW5lMlRleHQsICdsb2FkaW5nIGF3ZXNvbWVuZXNzLi4uJywgMjUpO1xuICBcbiAgLy8gU2hvdyBjdXJzb3IgYWZ0ZXIgdHlwaW5nXG4gIGlmIChjdXJzb3IpIGN1cnNvci5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XG59O1xuXG4vLyBTdGFydCB0eXBpbmcgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgcnVuTG9hZGVyQW5pbWF0aW9uKTtcblxuLy8gVHJhY2sgd2hlbiBsb2FkZXIgc3RhcnRlZFxuY29uc3QgbG9hZGVyU3RhcnQgPSBEYXRlLm5vdygpO1xuXG4vLyBMaXN0ZW4gZm9yIHRoZSBvbmxvYWQgZXZlbnRcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gbG9hZGVyU3RhcnQ7XG4gIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIFRPVEFMX0xPQURFUl9USU1FIC0gZWxhcHNlZCk7XG4gIFxuICAvLyBXYWl0IGZvciBhbmltYXRpb24gdG8gY29tcGxldGUgYmVmb3JlIGhpZGluZyBsb2FkZXJcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkZXJcIik7XG4gICAgbG9hZGVyLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICBsb2FkZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwib3BhY2l0eSAwLjNzIGVhc2Utb3V0XCI7XG4gICAgXG4gICAgLy8gUmVtb3ZlIGZyb20gRE9NIGFmdGVyIGZhZGUgb3V0XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsb2FkZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgXG4gICAgICAvLyBUcmlnZ2VyIG1haW4gcGFnZSBhbmltYXRpb25zIGFmdGVyIGxvYWRlciBpcyBnb25lXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpO1xuICAgIH0sIDMwMCk7XG4gIH0sIHJlbWFpbmluZyk7XG59OyIsImNvbnN0IHNsaWRlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpZGVzLWNvbnRhaW5lclwiKTtcbmNvbnN0IHNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZVwiKTtcbmNvbnN0IHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVcIik7XG5jb25zdCBhYm91dExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hdi1saW5rLWFib3V0XCIpO1xuY29uc3QgcmVzdW1lTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmF2LWxpbmstcmVzdW1lXCIpO1xuY29uc3Qgc2tpbGxzTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmF2LWxpbmstY2VydGlmaWNhdGVzXCIpO1xuY29uc3QgcHJvZmlsZVBpY3R1cmVNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtcGljdHVyZS1tb2JpbGVcIik7XG5cbi8vIENoZWNrIGlmIG1vYmlsZVxuY29uc3QgaXNNb2JpbGUgPSAoKSA9PiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDA7XG5cbi8vIFRyYWNrIGlmIGluaXRpYWwgY29udGVudCBhbmltYXRpb24gaXMgY29tcGxldGVcbmxldCBjb250ZW50QW5pbWF0aW9uQ29tcGxldGUgPSBmYWxzZTtcblxuLy8gU2hvdy9oaWRlIHByb2ZpbGUgcGljdHVyZVxuY29uc3Qgc2hvd1Byb2ZpbGVQaWN0dXJlID0gKHNob3cpID0+IHtcbiAgaWYgKCFpc01vYmlsZSgpIHx8ICFwcm9maWxlUGljdHVyZU1vYmlsZSkgcmV0dXJuO1xuICBcbiAgaWYgKHNob3cgJiYgY29udGVudEFuaW1hdGlvbkNvbXBsZXRlKSB7XG4gICAgcHJvZmlsZVBpY3R1cmVNb2JpbGUuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XG4gIH0gZWxzZSB7XG4gICAgcHJvZmlsZVBpY3R1cmVNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gIH1cbn07XG5cbi8vIEN1cnJlbnQgYWN0aXZlIHNsaWRlIGluZGV4XG5sZXQgY3VycmVudFNsaWRlSW5kZXggPSAwO1xuXG4vLyBNb2JpbGUgc2xpZGUgc3dpdGNoaW5nXG5jb25zdCBzaG93U2xpZGUgPSAoaW5kZXgpID0+IHtcbiAgY3VycmVudFNsaWRlSW5kZXggPSBpbmRleDtcbiAgc2xpZGVzLmZvckVhY2goKHMsIGkpID0+IHtcbiAgICBpZiAoaSA9PT0gaW5kZXgpIHtcbiAgICAgIHMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1zbGlkZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXNsaWRlXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2hvdy9oaWRlIHByb2ZpbGUgcGljdHVyZSBvbiBtb2JpbGUgKG9ubHkgb24gQWJvdXQgc2xpZGUgLSBpbmRleCAwKVxuICBpZiAoaW5kZXggPT09IDApIHtcbiAgICBzaG93UHJvZmlsZVBpY3R1cmUodHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc2hvd1Byb2ZpbGVQaWN0dXJlKGZhbHNlKTtcbiAgfVxufTtcblxuLy8gSW5pdGlhbGl6ZSBmaXJzdCBzbGlkZSBhcyBhY3RpdmUgb24gbW9iaWxlXG5pZiAoaXNNb2JpbGUoKSkge1xuICBzaG93U2xpZGUoMCk7XG59XG5cbi8vIFdhaXQgZm9yIGNvbnRlbnQgYW5pbWF0aW9uIHRvIGNvbXBsZXRlIGJlZm9yZSBzaG93aW5nIHByb2ZpbGUgcGljdHVyZVxuLy8gVGhlIGNvbnRlbnQtY29udGFpbmVyIGhhcyBhIDNzIGZhZGVJbkFuaW1hdGlvbiAoNTAlID0gMS41cyBhdCAwIG9wYWNpdHksIHRoZW4gZmFkZXMgaW4pXG4vLyBXZSBsaXN0ZW4gZm9yIGFuaW1hdGlvbmVuZCBvbiB0aGUgY29udGVudCBjb250YWluZXJcbmNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtY29udGFpbmVyXCIpO1xuaWYgKGNvbnRlbnRDb250YWluZXIgJiYgaXNNb2JpbGUoKSkge1xuICBjb250ZW50Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xuICAgIGNvbnRlbnRBbmltYXRpb25Db21wbGV0ZSA9IHRydWU7XG4gICAgaWYgKGN1cnJlbnRTbGlkZUluZGV4ID09PSAwKSB7XG4gICAgICBzaG93UHJvZmlsZVBpY3R1cmUodHJ1ZSk7XG4gICAgfVxuICB9LCB7IG9uY2U6IHRydWUgfSk7XG59XG5cbi8vIEhhbmRsZSByZXNpemVcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgaWYgKGlzTW9iaWxlKCkpIHtcbiAgICAvLyBFbnN1cmUgYXQgbGVhc3Qgb25lIHNsaWRlIGlzIHZpc2libGVcbiAgICBjb25zdCBoYXNBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlLmFjdGl2ZS1zbGlkZVwiKTtcbiAgICBpZiAoIWhhc0FjdGl2ZSkge1xuICAgICAgc2hvd1NsaWRlKDApO1xuICAgIH1cbiAgfVxufSk7XG5cbmFib3V0TGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBpZiAoaXNNb2JpbGUoKSkge1xuICAgIHNob3dTbGlkZSgwKTtcbiAgICBjaGFuZ2VBY3RpdmVMaW5rKGFib3V0TGluayk7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVzQ29udGFpbmVyLnNjcm9sbExlZnQgPSAwO1xuICB9XG59KTtcblxucmVzdW1lTGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBpZiAoaXNNb2JpbGUoKSkge1xuICAgIHNob3dTbGlkZSgxKTtcbiAgICBjaGFuZ2VBY3RpdmVMaW5rKHJlc3VtZUxpbmspO1xuICB9IGVsc2Uge1xuICAgIHNsaWRlc0NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gc2xpZGUuY2xpZW50V2lkdGg7XG4gIH1cbn0pO1xuXG5za2lsbHNMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmIChpc01vYmlsZSgpKSB7XG4gICAgc2hvd1NsaWRlKDIpO1xuICAgIGNoYW5nZUFjdGl2ZUxpbmsoc2tpbGxzTGluayk7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVzQ29udGFpbmVyLnNjcm9sbExlZnQgPSBzbGlkZS5jbGllbnRXaWR0aCAqIDI7XG4gIH1cbn0pO1xuXG5zbGlkZXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gIGlmIChpc01vYmlsZSgpKSByZXR1cm47XG4gIFxuICBpZiAoc2xpZGVzQ29udGFpbmVyLnNjcm9sbExlZnQgPT09IDApIHtcbiAgICBjaGFuZ2VBY3RpdmVMaW5rKGFib3V0TGluayk7XG4gIH0gZWxzZSBpZiAoc2xpZGVzQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gc2xpZGUuY2xpZW50V2lkdGggKiAyKSB7XG4gICAgY2hhbmdlQWN0aXZlTGluayhza2lsbHNMaW5rKTtcbiAgfSBlbHNlIHtcbiAgICBjaGFuZ2VBY3RpdmVMaW5rKHJlc3VtZUxpbmspO1xuICB9XG59KTtcblxuc2xpZGVzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzd2lwZWQtcmlnaHRcIiwgKCkgPT4ge1xuICBpZiAoc2xpZGVzQ29udGFpbmVyLnNjcm9sbExlZnQgPT09IDApIHtcbiAgICBjaGFuZ2VBY3RpdmVMaW5rKGFib3V0TGluayk7XG4gIH0gZWxzZSBpZiAoc2xpZGVzQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gc2xpZGUuY2xpZW50V2lkdGggKiAyKSB7XG4gICAgY2hhbmdlQWN0aXZlTGluayhza2lsbHNMaW5rKTtcbiAgfSBlbHNlIHtcbiAgICBjaGFuZ2VBY3RpdmVMaW5rKHJlc3VtZUxpbmspO1xuICB9XG59KTtcblxuY2hhbmdlQWN0aXZlTGluayA9IChhY3RpdmVMaW5rKSA9PiB7XG4gIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtaXRlbVwiKTtcbiAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgIGxpbmsuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgfSk7XG4gIGFjdGl2ZUxpbmsuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbn07XG5cbi8vIEluaXRpYWwgYWN0aXZlIGxpbmsgaGlnaGxpZ2h0IChvbmx5IHJ1bnMgb25jZSBvbiBwYWdlIGxvYWQpXG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgLy8gT25seSBzZXQgaW5pdGlhbCBhY3RpdmUgc3RhdGUsIGRvbid0IGZvcmNlIHNsaWRlIGNoYW5nZVxuICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LWl0ZW0uYWN0aXZlXCIpKSB7XG4gICAgY2hhbmdlQWN0aXZlTGluayhhYm91dExpbmspO1xuICB9XG59LCA0MDAwKTsiLCJcbmNvbnN0IHR5cGVUZXh0ID0gYXN5bmMgKGVsZW1lbnQsIHRleHQsIGRlbGF5ID0gMTAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBkZWxheSkpO1xuICAgIH1cbn07XG5cbmNvbnN0IGRlbGV0ZVRleHQgPSBhc3luYyAoZWxlbWVudCwgZGVsYXkgPSA1MCkgPT4ge1xuICAgIHdoaWxlIChlbGVtZW50LnRleHRDb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGVsZW1lbnQudGV4dENvbnRlbnQuc2xpY2UoMCwgLTEpO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgZGVsYXkpKTtcbiAgICB9XG59O1xuXG5jb25zdCBsb29wVHlwaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGxvZ29FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R5cGluZy1sb2dvJyk7XG4gICAgaWYgKCFsb2dvRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgLy8gU3RlcCAxOiBUeXBlIE5hbWVcbiAgICAgICAgYXdhaXQgdHlwZVRleHQobG9nb0VsZW1lbnQsIFwiS0lNIEVEUklBTiBCSU5BU09ZXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdFxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMjAwMCkpO1xuXG4gICAgICAgIC8vIFN0ZXAgMjogQWRkIChyZWxlYXJuLmluZylcbiAgICAgICAgYXdhaXQgdHlwZVRleHQobG9nb0VsZW1lbnQsIFwiIChyZWxlYXJuLmluZylcIik7XG5cbiAgICAgICAgLy8gV2FpdCBsb25nZXIgKDVzIGFzIHJlcXVlc3RlZClcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDUwMDApKTtcblxuICAgICAgICAvLyBTdGVwIDM6IERlbGV0ZSBhbGxcbiAgICAgICAgYXdhaXQgZGVsZXRlVGV4dChsb2dvRWxlbWVudCk7XG5cbiAgICAgICAgLy8gU2hvcnQgcGF1c2UgYmVmb3JlIHJlc3RhcnRpbmdcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDUwMCkpO1xuICAgIH1cbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgbG9vcFR5cGluZygpO1xufSk7XG4iLCIvLyBjb2RlIHRoYXQgaGFuZGxlcyB6b29taW5nIG9mIGltYWdlc1xuLy8gb24gJy5nYWxsZXJ5IGRpdicgY2xpY2ssIGdldCB0aGUgaW1hZ2Ugc3JjIGFuZCBjb3B5IGl0IC0gd2l0aCBmaXhlcyBwb3NpdGlvbmluZyB0byB0aGUgb3JpZ2luYWwgaW1hZ2UgcG9zaXRpb24gYW5kIHNpemVcblxuY29uc3QgZ2FsbGVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FsbGVyeVwiKTtcbmNvbnN0IHpvb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnpvb21cIik7XG5jb25zdCB6b29tSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi56b29tIGltZ1wiKTtcbmNvbnN0IHpvb21QcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi56b29tIC56b29tLXByZXZcIik7XG5jb25zdCB6b29tTmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuem9vbSAuem9vbS1uZXh0XCIpO1xuY29uc3Qgem9vbUNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi56b29tIC56b29tLWNsb3NlXCIpO1xudmFyIHpvb21TdGF0ZTtcbnZhciBpbWFnZXM7XG5cbmdhbGxlcnkuZm9yRWFjaCgoZ2FsbGVyeSkgPT4ge1xuICBnYWxsZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSBcIklNR1wiKSB7XG4gICAgICB6b29tU3RhdGUgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwcm9qZWN0c1wiKSA/IFwicHJvamVjdHNcIiA6IFwiY2VydGlmaWNhdGVzXCI7XG4gICAgICBpbWFnZXMgPSBlLnRhcmdldC5jbG9zZXN0KCcuZ2FsbGVyeScpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWcuaGlkZGVuXCIpO1xuICAgICAgem9vbUltZy5zcmMgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbWcuaGlkZGVuXCIpLnNyYztcbiAgICAgIHpvb21JbWcuc3R5bGUudG9wID0gZS50YXJnZXQueSArIFwicHhcIjtcbiAgICAgIHpvb21JbWcuc3R5bGUubGVmdCA9IGUudGFyZ2V0LnggKyBcInB4XCI7XG4gICAgICB6b29tSW1nLnN0eWxlLndpZHRoID0gZS50YXJnZXQuY2xpZW50V2lkdGggKyBcInB4XCI7XG4gICAgICB6b29tSW1nLnN0eWxlLmhlaWdodCA9IGUudGFyZ2V0LmNsaWVudEhlaWdodCArIFwicHhcIjtcbiAgICAgIHpvb20uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB6b29tLmNsYXNzTGlzdC5hZGQoXCJ6b29tLWluXCIpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9XG5cbiAgfSk7XG59KTtcblxuem9vbUNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHpvb20uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgem9vbS5jbGFzc0xpc3QucmVtb3ZlKFwiem9vbS1pblwiKTtcbn0pO1xuXG56b29tTmV4dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXh0KCk7XG59KTtcblxuXG56b29tUHJldi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcmV2KCk7XG59KTtcblxubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG5leHRJbWcgPSB6b29tSW1nLnNyYztcbiAgaW1hZ2VzLmZvckVhY2goKGltZywgaW5kZXgpID0+IHtcbiAgICBpZiAoaW1nLnNyYyA9PT0gem9vbUltZy5zcmMpIHtcbiAgICAgIG5leHRJbWcgPSBpbWFnZXNbaW5kZXggKyAxXSA/IGltYWdlc1tpbmRleCArIDFdLnNyYyA6IGltYWdlc1swXS5zcmM7XG4gICAgfVxuICB9KTtcbiAgem9vbUltZy5zcmMgPSBuZXh0SW1nO1xufVxuXG5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcHJldkltZyA9IHpvb21JbWcuc3JjO1xuICBpbWFnZXMuZm9yRWFjaCgoaW1nLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbWcuc3JjID09PSB6b29tSW1nLnNyYykge1xuICAgICAgcHJldkltZyA9IGltYWdlc1tpbmRleCAtIDFdID8gaW1hZ2VzW2luZGV4IC0gMV0uc3JjIDogaW1hZ2VzW2ltYWdlcy5sZW5ndGggLSAxXS5zcmM7XG4gICAgfVxuICB9KTtcbiAgem9vbUltZy5zcmMgPSBwcmV2SW1nO1xufVxuXG5sZXQgdG91Y2hzdGFydFggPSAwXG5sZXQgdG91Y2hlbmRYID0gMFxuXG5jaGVja0RpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRvdWNoZW5kWCA8IHRvdWNoc3RhcnRYKSB7IG5leHQoKTsgfVxuICBpZiAodG91Y2hlbmRYID4gdG91Y2hzdGFydFgpIHsgcHJldigpOyB9XG59XG5cbnpvb20uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4ge1xuICB0b3VjaHN0YXJ0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWFxufSlcblxuem9vbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGUgPT4ge1xuICB0b3VjaGVuZFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblhcbiAgY2hlY2tEaXJlY3Rpb24oKVxufSlcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiXSwibmFtZXMiOlsidHlwZVRleHQiLCJlbGVtZW50IiwidGV4dCIsImRlbGF5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJpIiwidGV4dENvbnRlbnQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwibGVuZ3RoIiwiY2hhckF0IiwiY2xlYXJJbnRlcnZhbCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzeW5jIiwibGluZTFUZXh0IiwicXVlcnlTZWxlY3RvciIsImxpbmUyVGV4dCIsImN1cnNvciIsInN0eWxlIiwiZGlzcGxheSIsInIiLCJzZXRUaW1lb3V0IiwibG9hZGVyU3RhcnQiLCJEYXRlIiwibm93Iiwid2luZG93Iiwib25sb2FkIiwiZWxhcHNlZCIsInJlbWFpbmluZyIsIk1hdGgiLCJtYXgiLCJsb2FkZXIiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJzbGlkZXNDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsInNsaWRlIiwic2xpZGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImFib3V0TGluayIsInJlc3VtZUxpbmsiLCJza2lsbHNMaW5rIiwicHJvZmlsZVBpY3R1cmVNb2JpbGUiLCJpc01vYmlsZSIsImlubmVyV2lkdGgiLCJjb250ZW50QW5pbWF0aW9uQ29tcGxldGUiLCJzaG93UHJvZmlsZVBpY3R1cmUiLCJzaG93IiwicmVtb3ZlIiwiY3VycmVudFNsaWRlSW5kZXgiLCJzaG93U2xpZGUiLCJpbmRleCIsImZvckVhY2giLCJzIiwiY29udGVudENvbnRhaW5lciIsIm9uY2UiLCJjaGFuZ2VBY3RpdmVMaW5rIiwic2Nyb2xsTGVmdCIsImNsaWVudFdpZHRoIiwiYWN0aXZlTGluayIsImxpbmsiLCJkZWxldGVUZXh0Iiwic2xpY2UiLCJsb2dvRWxlbWVudCIsImxvb3BUeXBpbmciLCJnYWxsZXJ5Iiwiem9vbSIsInpvb21JbWciLCJ6b29tUHJldiIsInpvb21OZXh0Iiwiem9vbUNsb3NlIiwiaW1hZ2VzIiwiZSIsInRhcmdldCIsInRhZ05hbWUiLCJjb250YWlucyIsImNsb3Nlc3QiLCJzcmMiLCJwYXJlbnRFbGVtZW50IiwidG9wIiwieSIsImxlZnQiLCJ4Iiwid2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJuZXh0IiwicHJldiIsIm5leHRJbWciLCJpbWciLCJwcmV2SW1nIiwidG91Y2hzdGFydFgiLCJ0b3VjaGVuZFgiLCJjaGVja0RpcmVjdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwic2NyZWVuWCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=